# 🚀 チャットAI - 起動ガイド

## 📖 アプリケーションの仕組み

### 全体の構成

```
┌─────────────────────────────────────────────────────────────┐
│                    あなたのPC (ローカル環境)                   │
│                                                             │
│  ┌─────────────┐    ┌─────────────┐    ┌─────────────────┐ │
│  │  ブラウザ    │ ←→ │  Next.js    │ ←→ │  Gemini API     │ │
│  │ (Chrome等)  │    │  サーバー    │    │  (Google Cloud) │ │
│  │             │    │             │    │                 │ │
│  │ localhost   │    │ port:3000   │    │ インターネット経由 │ │
│  └─────────────┘    └─────────────┘    └─────────────────┘ │
│         ↑                  ↑                               │
│         │                  │                               │
│    UI表示・入力      学習データ読み込み                       │
│                    (.txt ファイル)                          │
└─────────────────────────────────────────────────────────────┘
```

### 各コンポーネントの役割

| コンポーネント | 役割 |
|:--------------|:-----|
| **ブラウザ** | ユーザーインターフェース。メッセージ入力・返信候補表示 |
| **Next.jsサーバー** | ローカルで動くWebサーバー。APIリクエストを処理 |
| **Gemini API** | GoogleのAI。学習データを参考に返信候補を生成 |
| **学習データ(.txt)** | 売れっ子ホストのLINE履歴。AIの参考資料 |

---

## 🖥️ 起動手順（詳細）

### Step 1: PowerShellを開く

**方法1**: `Win + X` → 「ターミナル」または「PowerShell」

**方法2**: スタートメニューで「PowerShell」と検索

### Step 2: プロジェクトフォルダに移動

```powershell
cd "C:\Users\81704\OneDrive\デスクトップ\vexum\AIチャット\app"
```

> **原理**: `cd` = Change Directory（ディレクトリ変更）
> PowerShellに「このフォルダで作業する」と指示しています

### Step 3: サーバーを起動

```powershell
npm run dev
```

> **原理**: 
> - `npm` = Node Package Manager（Node.jsのパッケージ管理ツール）
> - `run dev` = package.jsonに書かれた「dev」スクリプトを実行
> - 内部で `next dev` が実行され、開発サーバーが起動

**成功すると表示されるメッセージ:**
```
▲ Next.js 16.x.x
- Local: http://localhost:3000
✓ Ready in 2s
```

### Step 4: ブラウザでアクセス

ブラウザ（Chrome, Edge等）で以下のURLを開く:

```
http://localhost:3000
```

> **原理**:
> - `localhost` = 自分のPC自身を指す特別なアドレス
> - `3000` = ポート番号（サーバーが待機している入口）
> - つまり「自分のPCの3000番ポートに接続」という意味

---

## ⏹️ 停止方法

PowerShellで `Ctrl + C` を押す

> **原理**: サーバープロセスに「中断」シグナルを送信

---

## 🔄 毎回の起動フロー

```
PowerShellを開く
     ↓
cd "...\AIチャット\app"
     ↓
npm run dev
     ↓
ブラウザで localhost:3000 を開く
     ↓
チャットAIを使う！
```

---

## ❓ よくある問題

### 「ポート3000が使用中」エラー

前回のサーバーがまだ動いている可能性。

```powershell
# 別のポートで起動
npm run dev -- --port 3001
```
→ `http://localhost:3001` でアクセス

### 「GEMINI_API_KEY が設定されていません」

`.env.local` ファイルが存在しないか、APIキーが未設定。

```powershell
# 確認
type .env.local
```

---

## 📁 ファイルの場所

```
C:\Users\81704\OneDrive\デスクトップ\vexum\AIチャット\
├── 開発仕様書.md     ← 仕様書
├── docs\             ← ドキュメント
│   ├── walkthrough.md
│   └── 起動ガイド.md  ← このファイル
└── app\              ← アプリ本体
    ├── .env.local    ← APIキー設定
    ├── data\learning\ ← 学習データ
    └── src\app\      ← ソースコード
```

---

*作成日: 2026-01-05*
